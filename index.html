<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>한화생명 AI 어시스턴트</title>
    <link rel="stylesheet" href="css/hanwha-design-system.css">
    <link rel="stylesheet" href="css/meeting-modal.css">
    <link rel="stylesheet" href="css/status-card.css">
    <link rel="stylesheet" href="css/vacation-card.css">
    <link rel="stylesheet" href="css/contact-detail-panel.css">
    <link rel="stylesheet" href="css/mode-selector.css">
    <link rel="stylesheet" href="css/user-test-modal.css">
    <link rel="stylesheet" href="css/toast.css">
    <link rel="stylesheet" href="css/report-mode-figma.css">
</head>
<body>
    <!-- 모바일 메뉴 토글 -->
    <button class="mobile-menu-toggle" onclick="toggleMobileSidebar()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M3 12H21" stroke="#403f3e" stroke-width="2" stroke-linecap="round"/>
            <path d="M3 6H21" stroke="#403f3e" stroke-width="2" stroke-linecap="round"/>
            <path d="M3 18H21" stroke="#403f3e" stroke-width="2" stroke-linecap="round"/>
        </svg>
    </button>

    <!-- 모바일 사이드바 오버레이 -->
    <div class="mobile-sidebar-overlay" onclick="closeMobileSidebar()"></div>

    <div class="app-container">
        <!-- 사이드바 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="hanwha-logo">
                    <img src="assets/hanwha_logo(pc).png" alt="한화생명" />
                </div>
            </div>
            <nav class="sidebar-menu">
                <div class="recent-chat-header">
                    <span class="section-title">최근 대화</span>
                    <button class="new-chat-button" onclick="startNewChat()">
                        <span class="plus-icon"></span>
                        새 대화
                    </button>
                </div>
                <div class="chat-history-section">
                    <div id="chatHistoryList" class="chat-history-list">
                        <!-- 대화 히스토리가 동적으로 추가됩니다 -->
                    </div>
                </div>
                <div class="sidebar-bottom-menu">
                    <button class="bottom-menu-item" onclick="showGuide()">
                        가이드
                    </button>
                    <button class="bottom-menu-item" onclick="window.location.href='calendar.html'">
                        내 캘린더
                    </button>
                    <button class="bottom-menu-item" onclick="showSettings()">
                        설정
                    </button>
                </div>
            </nav>
        </aside>

        <!-- 메인 콘텐츠 영역 -->
        <main class="main-content">
            <!-- 상단 헤더 -->
            <header class="top-header">
                <div class="header-actions">
                    <div class="header-greeting">
                        <span class="greeting-text">김한화사원</span>
                    </div>
                    <button class="notification-button" onclick="showNotifications()" aria-label="알림">
                        <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
                            <path d="M14 2C10.686 2 8 4.686 8 8C8 11.314 8 15 6 17H22C20 15 20 11.314 20 8C20 4.686 17.314 2 14 2Z" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M16.5 21C16.5 22.381 15.381 23.5 14 23.5C12.619 23.5 11.5 22.381 11.5 21" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <div class="user-profile">
                        <div class="user-avatar"></div>
                        <span class="user-name">로딩중...</span>
                        <svg class="arrow-down" viewBox="0 0 20 20" fill="none">
                            <path d="M5 7.5L10 12.5L15 7.5" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>
            </header>


            <!-- 채팅 영역 - 초기 화면 -->
            <div class="chat-area" id="chatArea" style="display: block;">
                <div class="welcome-container" id="welcomeScreen">
                    <h1 class="welcome-title">로딩중...</h1>
                    <div class="input-wrapper">
                        <div class="input-container">
                            <button class="input-plus-button" onclick="showAttachments()">
                                <span class="plus-icon"></span>
                            </button>
                            <button class="mode-selector-button" onclick="handleModeSelectorClick()" title="모드 선택">
                                <img src="assets/icons/mode-selector.svg" alt="모드 선택" />
                                <span>모드 선택</span>
                            </button>
                            <input
                                type="text"
                                class="input-field"
                                placeholder="무엇이든 물어보세요."
                                onkeypress="handleEnter(event)"
                                id="mainInput"
                            />
                            <button class="send-button" onclick="sendMessage()">
                                <span class="send-icon"></span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 채팅 메시지 영역 (숨김 상태) -->
                <div class="chat-messages" id="chatMessages" style="display: none;">
                    <!-- 메시지들이 여기에 동적으로 추가됩니다 -->
                </div>
            </div>

            <!-- 입력 영역 (채팅 시작 후 하단 고정) -->
            <div id="bottomInput">
                <div class="input-wrapper">
                    <div class="input-container">
                        <button class="input-plus-button" onclick="showAttachments()">
                            <span class="plus-icon"></span>
                        </button>
                        <input
                            type="text"
                            class="input-field"
                            placeholder="무엇이든 물어보세요."
                            onkeypress="handleEnter(event)"
                            id="bottomInputField"
                        />
                        <button class="send-button" onclick="sendMessage()">
                            <span class="send-icon"></span>
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>


    <!-- 회의실 예약 스타일 -->
    <link rel="stylesheet" href="css/meeting-reservation.css">

    <!-- 캘린더 스타일 -->
    <link rel="stylesheet" href="css/calendar.css">

    <!-- 샘플 데이터 파일들 -->
    <script src="data/sample-data.js"></script>
    <script src="data/sample-sampleData.js"></script>
    <script src="data/sample-users.js"></script>
    <script src="data/sample-chat-history.js"></script>
    <script src="data/status-cards.js"></script>
    <script src="data/sample-vacation.js"></script>
    <script src="data/sample-organization.js"></script>
    <script src="data/user-test-data.js"></script>

    <!-- 애플리케이션 스크립트 -->
    <script src="meeting-rooms-data.js"></script>
    <script src="js/storage-manager.js"></script>
    <script src="js/chat-manager.js"></script>
    <script src="js/meeting-reservation.js"></script>
    <script src="js/meeting-reservation-ui.js"></script>
    <script src="js/meeting-modal.js"></script>
    <script src="js/contact-detail-manager.js"></script>
    <script src="js/mode-selector.js"></script>
    <script src="js/user-test-manager.js"></script>
    <script src="js/user-test-modal.js"></script>
    <script src="js/toast-manager.js"></script>
    <script src="js/toast-demo.js"></script>
    <script src="js/report-mode.js"></script>
    <script src="js/hanwha-app.js"></script>
</body>
</html>
