<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>한화생명 AI 어시스턴트</title>
    <link rel="stylesheet" href="css/hanwha-design-system.css">
</head>
<body>
    <!-- 모바일 메뉴 토글 -->
    <button class="mobile-menu-toggle" onclick="toggleMobileSidebar()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M3 12H21" stroke="#403f3e" stroke-width="2" stroke-linecap="round"/>
            <path d="M3 6H21" stroke="#403f3e" stroke-width="2" stroke-linecap="round"/>
            <path d="M3 18H21" stroke="#403f3e" stroke-width="2" stroke-linecap="round"/>
        </svg>
    </button>

    <!-- 모바일 사이드바 오버레이 -->
    <div class="mobile-sidebar-overlay" onclick="closeMobileSidebar()"></div>

    <div class="app-container">
        <!-- 사이드바 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-profile">
                    <div class="logo-icon"></div>
                    <div class="user-name">
                        로딩중...
                        <svg class="arrow-down" viewBox="0 0 20 20" fill="none">
                            <path d="M5 7.5L10 12.5L15 7.5" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>
            </div>
            <nav class="sidebar-menu">
                <button class="new-chat-button" onclick="startNewChat()">
                    <span class="plus-icon"></span>
                    새 대화 시작하기
                </button>
                <div class="chat-history-section">
                    <h3 class="section-title">최근 대화</h3>
                    <div id="chatHistoryList" class="chat-history-list">
                        <!-- 대화 히스토리가 동적으로 추가됩니다 -->
                    </div>
                </div>
            </nav>
        </aside>

        <!-- 메인 콘텐츠 영역 -->
        <main class="main-content">
            <!-- 상단 헤더 -->
            <header class="top-header">
                <div class="header-tabs">
                    <button class="tab-button active">AI 비서</button>
                    <button class="tab-button" onclick="openReportBuilder()">
                        <img src="assets/icons/document-pen-header.svg" alt="" class="tab-icon" />
                        보고서 만들기
                    </button>
                    <button class="tab-button" onclick="openBoard()">게시판</button>
                    <button class="tab-button" onclick="openCalendar()">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" class="tab-icon">
                            <rect x="3" y="4" width="14" height="14" rx="2" stroke="currentColor" stroke-width="1.5"/>
                            <line x1="3" y1="8" x2="17" y2="8" stroke="currentColor" stroke-width="1.5"/>
                            <line x1="7" y1="2" x2="7" y2="5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            <line x1="13" y1="2" x2="13" y2="5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        캘린더
                    </button>
                </div>
                <div class="hanwha-logo">
                    <img src="assets/icons/hanwha-logo.svg" alt="Hanwha Life" />
                </div>
            </header>

            <!-- 캘린더 영역 (숨김 상태) -->
            <div class="calendar-container" id="calendarContainer" style="display: none;">
                <div class="calendar-header">
                    <div class="calendar-controls">
                        <button class="calendar-nav-btn" onclick="previousPeriod()">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M12 14L8 10L12 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <h2 class="calendar-title" id="calendarTitle">2024년 3월</h2>
                        <button class="calendar-nav-btn" onclick="nextPeriod()">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M8 14L12 10L8 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                    <div class="calendar-view-toggle">
                        <button class="view-btn active" data-view="month" onclick="changeView('month')">월</button>
                        <button class="view-btn" data-view="week" onclick="changeView('week')">주</button>
                        <button class="view-btn" data-view="day" onclick="changeView('day')">일</button>
                    </div>
                    <button class="add-schedule-btn" onclick="openScheduleModal()">
                        <span class="plus-icon"></span>
                        일정 추가
                    </button>
                </div>
                <div class="calendar-content" id="calendarContent">
                    <!-- 캘린더 뷰가 동적으로 렌더링됩니다 -->
                </div>
            </div>

            <!-- 채팅 영역 - 초기 화면 -->
            <div class="chat-area" id="chatArea" style="display: block;">
                <div class="welcome-container" id="welcomeScreen">
                    <h1 class="welcome-title">로딩중...</h1>
                    <p class="welcome-subtitle">무엇을 도와드릴까요?</p>
                    <div class="input-wrapper">
                        <div class="input-container">
                            <button class="input-plus-button" onclick="showAttachments()">
                                <span class="plus-icon"></span>
                            </button>
                            <input
                                type="text"
                                class="input-field"
                                placeholder="무엇이든 물어보세요."
                                onkeypress="handleEnter(event)"
                                id="mainInput"
                            />
                            <button class="send-button" onclick="sendMessage()">
                                <span class="send-icon"></span>
                            </button>
                        </div>
                        <div class="quick-actions">
                            <button class="quick-button" disabled style="cursor: default; opacity: 0.6;">
                                <img src="assets/icons/document-pen-full.svg" alt="" class="quick-button-icon" />
                                보고서 만들기
                            </button>
                            <button class="quick-button" disabled style="cursor: default; opacity: 0.6;">
                                <img src="assets/icons/menu-food.svg" alt="" class="quick-button-icon" />
                                구내식당 메뉴
                            </button>
                            <button class="quick-button" disabled style="cursor: default; opacity: 0.6;">
                                <img src="assets/icons/meeting.svg" alt="" class="quick-button-icon" />
                                회의잡기
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 채팅 메시지 영역 (숨김 상태) -->
                <div class="chat-messages" id="chatMessages" style="display: none;">
                    <!-- 메시지들이 여기에 동적으로 추가됩니다 -->
                </div>
            </div>

            <!-- 입력 영역 (채팅 시작 후 하단 고정) -->
            <div id="bottomInput">
                <div class="input-wrapper">
                    <div class="input-container">
                        <button class="input-plus-button" onclick="showAttachments()">
                            <span class="plus-icon"></span>
                        </button>
                        <input
                            type="text"
                            class="input-field"
                            placeholder="무엇이든 물어보세요."
                            onkeypress="handleEnter(event)"
                            id="bottomInputField"
                        />
                        <button class="send-button" onclick="sendMessage()">
                            <span class="send-icon"></span>
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Dark Mode Toggle Button -->
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode">
        <svg class="theme-toggle-icon sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"/>
            <line x1="12" y1="1" x2="12" y2="3"/>
            <line x1="12" y1="21" x2="12" y2="23"/>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
            <line x1="1" y1="12" x2="3" y2="12"/>
            <line x1="21" y1="12" x2="23" y2="12"/>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
        </svg>
        <svg class="theme-toggle-icon moon-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
    </button>

    <!-- 회의실 예약 스타일 -->
    <link rel="stylesheet" href="css/meeting-reservation.css">
    
    <!-- 캘린더 스타일 -->
    <link rel="stylesheet" href="css/calendar.css">
    
    <!-- 샘플 데이터 파일들 -->
    <script src="data/sample-data.js"></script>
    <script src="data/sample-sampleData.js"></script>
    <script src="data/sample-users.js"></script>
    <script src="data/sample-chat-history.js"></script>
    
    <!-- 애플리케이션 스크립트 -->
    <script src="js/storage-manager.js"></script>
    <script src="js/chat-manager.js"></script>
    <script src="js/meeting-reservation.js"></script>
    <script src="js/meeting-reservation-ui.js"></script>
    <script src="js/calendar.js"></script>
    <script src="js/hanwha-app.js"></script>
</body>
</html>
